{"ts":1343949583269,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"( function () {\r\n\t\r\n\tvar elements = {},\r\n\t\tclassNameLocalStorage,\r\n\t\tclassNameCurrent;\r\n\t\r\n\t/*===================================================\r\n    \r\n\tloading\r\n    \r\n    =====================================================*/\r\n\t\r\n\t$LAB\r\n\t\t.script( [\r\n\t\t\t\"js/jquery-1.7.2.min.js\",\r\n\t\t\t\"js/RequestAnimationFrame.js\",\r\n\t\t\t\"js/requestInterval.js\",\r\n\t\t\t\"js/requestTimeout.js\"\r\n\t\t] )\r\n\t\t.wait()\r\n\t\t.script( [\r\n\t\t\t\"js/bootstrap.min.js\",\r\n\t\t\t\"js/jquery.easing-1.3.min.js\",\r\n\t\t\t\"js/jquery.sticky.custom.js\"\r\n\t\t] )\r\n\t\t.wait()\r\n\t\t.script( [\r\n\t\t\t\"js/bootstrap-scroll-modal.custom.js\"\r\n\t\t] )\r\n\t\t.wait( init );\r\n\t\r\n\t/*===================================================\r\n    \r\n\tinit\r\n    \r\n    =====================================================*/\r\n\t\r\n\tfunction init () {\r\n\t\t\r\n\t\t$( document ).ready( on_ready );\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction on_ready () {\r\n\t\t\r\n\t\tvar $classButtonToTrigger;\r\n\t\r\n\t\t// get ui elements\r\n\t\t\r\n\t\telements.$navbarMain = $( \"#navbarMain\" );\r\n\t\telements.$overview = $( '#overview' );\r\n\t\telements.$policies = $( '#policies' );\r\n\t\telements.$classes = $( '#classes' );\r\n\t\telements.$class = $( '#class' );\r\n\t\telements.$classWarning = $( '#classWarning' );\r\n\t\telements.$classError = $( '#classError' );\r\n\t\telements.$classLoading = $( '#classLoading' );\r\n\t\telements.$icons = $( 'i' );\r\n\t\telements.$buttonsClasses = $( '.button-class' );\r\n\t\t\r\n\t\t// if has current class name in local storage\r\n\t\t\r\n\t\tif ( window.localStorage && window.localStorage[ 'classNameCurrent' ] ) {\r\n\t\t\t\r\n\t\t\tclassNameLocalStorage = window.localStorage[ 'classNameCurrent' ];\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t// add hover to all icons\r\n\t\t\r\n\t\telements.$icons.each( function () {\r\n\t\t\tvar icon = $( this );\r\n\t\t\t\r\n\t\t\ticon.parents( 'a:last' )\r\n\t\t\t\t.on( Modernizr.touch ? 'touchstart' : 'mouseenter', function () {\r\n\t\t\t\t\ticon.addClass( 'icon-white' );\r\n\t\t\t\t} )\r\n\t\t\t\t.on( Modernizr.touch ? 'touchend touchcancel' : 'mouseleave', function () {\r\n\t\t\t\t\ticon.removeClass( 'icon-white' );\r\n\t\t\t\t} );\r\n\t\t\t\r\n\t\t} );\r\n\t\t\r\n\t\t// show class warning\r\n\t\t\r\n\t\telements.$classWarning.removeClass( 'hidden' );\r\n\t\t\r\n\t\t// add content load to each class button\r\n\t\t\r\n\t\telements.$buttonsClasses.each( function () {\r\n\t\t\t\r\n\t\t\tvar $classButton = $( this ),\r\n\t\t\t\tclassName;\r\n\t\t\t\r\n\t\t\t// get class name\r\n\t\t\t\r\n\t\t\tclassName = $.trim( $classButton.data( \"class\" ) );\r\n\t\t\t\r\n\t\t\t// listen for activate\r\n\t\t\t\r\n\t\t\t$classButton.on( Modernizr.touch ? 'touchend' : 'mouseup', function () {\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof className === 'string' && className.length > 0 && className !== classNameCurrent ) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// hide warning\r\n\t\t\t\t\t\r\n\t\t\t\t\telements.$classWarning.addClass( 'hidden' );\r\n\t\t\t\t\t\r\n\t\t\t\t\t// hide error\r\n\t\t\t\t\t\r\n\t\t\t\t\telements.$classError.addClass( 'hidden' );\r\n\t\t\t\t\t\r\n\t\t\t\t\t// empty current class\r\n\t\t\t\t\t\r\n\t\t\t\t\telements.$class.empty();\r\n\t\t\t\t\t\r\n\t\t\t\t\t// show loading\r\n\t\t\t\t\t\r\n\t\t\t\t\telements.$classLoading.removeClass( 'hidden' );\r\n\t\t\t\t\t\r\n\t\t\t\t\t// store as current\r\n\t\t\t\t\t\r\n\t\t\t\t\tclassNameCurrent = className;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( window.localStorage ) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twindow.localStorage[ 'classNameCurrent' ] = classNameCurrent;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// load\r\n\t\t\t\t\t\r\n\t\t\t\t\telements.$class.load( 'classes/' + className + '.html', function ( responseText, textStatus ) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// hide loading\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\telements.$classLoading.addClass( 'hidden' );\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// if error on load\r\n\t\t\t\t\t\tif ( textStatus === 'error' ) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// show error\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\telements.$classError.removeClass( 'hidden' );\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// sticky class nav\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$( \"#navbarClass\" ).sticky();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// for each project\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$( '#classProjects' ).find( '.class-project' ).each( function () {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar $project = $( this ),\r\n\t\t\t\t\t\t\t\t\tprojectName = $.trim( $project.find( '.class-project-name' ).text() ),\r\n\t\t\t\t\t\t\t\t\t$requirementItems = $project.find( \".requirement-item\" ),\r\n\t\t\t\t\t\t\t\t\trequirementItemIds = [],\r\n\t\t\t\t\t\t\t\t\trequirementItemIdCounts = {};\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// init all requirements\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t$requirementItems.each( function ( i ) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tvar $requirementItem = $( this ),\r\n\t\t\t\t\t\t\t\t\t\trequirementItemText = $.trim( $requirementItem.text() ),\r\n\t\t\t\t\t\t\t\t\t\tid = classNameCurrent + '_' + projectName + '_' + 'RequirementItem' + '_' + requirementItemText;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t// check if id already in list ( duplicate )\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif ( requirementItemIds.indexOf( id ) !== -1 ) {\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// increase count\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\trequirementItemIdCounts[ id ]++;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// store in list\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\trequirementItemIds.push( id );\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// init count\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\trequirementItemIdCounts[ id ] = 0;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t// add id count to id\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tid += '_' + requirementItemIdCounts[ id ];\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t// set id by count\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$requirementItem.attr( 'id', id );\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t// set toggle\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t$requirementItem.on( Modernizr.touch ? 'touchend' : 'mouseup', on_requirement_toggle );\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t// check local storage to see if item already completed\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif ( window.localStorage ) {\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t$requirementItem[ window.localStorage[ id ] === 'true' ? 'addClass' : 'removeClass' ]( 'complete' );\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} );\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t} );\r\n\t\t\t\r\n\t\t\t// if this class name is same as one in local storage\r\n\t\t\t\r\n\t\t\tif ( typeof classNameLocalStorage !== 'undefined' && className === classNameLocalStorage ) {\r\n\t\t\t\t\r\n\t\t\t\t$classButtonToTrigger = $classButton;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} );\r\n\t\t\r\n\t\t// listen for resize\r\n\t\t\r\n\t\t$( window ).on( 'resize', on_resize );\r\n\t\t\r\n\t\t// resize once\r\n\t\t\r\n\t\ton_resize();\r\n\t\t\r\n\t\t// if has class button to trigger\r\n\t\t\r\n\t\tif ( typeof $classButtonToTrigger !== 'undefined' && $classButtonToTrigger.length > 0 ) {\r\n\t\t\t\r\n\t\t\t$classButtonToTrigger.trigger( Modernizr.touch ? 'touchend' : 'mouseup' );\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction on_resize() {\r\n\t\t\r\n\t\t// set classes min height\r\n\t\t\r\n\t\telements.$classes.css( 'min-height', $( window ).innerHeight() );\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction on_requirement_toggle () {\r\n\t\t\r\n\t\tvar $requirementItem = $( this ),\r\n\t\t\tid = $requirementItem.attr( 'id' );\r\n\t\t\r\n\t\t$requirementItem.toggleClass( 'complete' );\r\n\t\t\r\n\t\tif ( window.localStorage ) {\r\n\t\t\t\r\n\t\t\twindow.localStorage[ id ] = $requirementItem.hasClass( 'complete' );\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\t\r\n} )();"]],"start1":0,"start2":0,"length1":0,"length2":6551}]],"length":6551}
